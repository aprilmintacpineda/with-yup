"use strict";exports.__esModule=!0,exports["default"]=void 0;var _react=_interopRequireDefault(require("react")),_redefineStaticsJs=_interopRequireDefault(require("redefine-statics-js"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var _default=function(a,b,c){function d(d){var e=this;return this.props=d,this.state={formValues:a(),formErrors:{},formTouched:{}},this.yupValidationScheme=b(),this.getFormErrors=function(a){return regeneratorRuntime.async(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,regeneratorRuntime.awrap(e.yupValidationScheme.validate(a,{abortEarly:!1}));case 3:return b.abrupt("return",{});case 6:return b.prev=6,b.t0=b["catch"](0),b.abrupt("return",b.t0.inner.reduce(function(a,b){return a[b.path]=b.message,a},{}));case 9:case"end":return b.stop();}},null,null,[[0,6]])},this.validateForm=function(){var a,b;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,regeneratorRuntime.awrap(e.getFormErrors(e.state.formValues));case 2:return a=c.sent,b=Object.keys(a),e.setState(_extends({},e.state,{formErrors:a,formTouched:b.reduce(function(a,b){return a[b]=!0,a},{})})),c.abrupt("return",0<b.length);case 6:case"end":return c.stop();}})},this.setValuesAndErrors=function(a){var b;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(a.values||a.errors){c.next=2;break}return c.abrupt("return");case 2:b=_extends({},e.state),a.values&&Object.keys(a.values).forEach(function(c){b.formValues[c]=a.values[c]}),a.errors&&Object.keys(a.errors).forEach(function(c){b.formErrors[c]=a.errors[c],b.formTouched[c]=!0}),e.setState(b);case 6:case"end":return c.stop();}})},this.setValue=function(a,b,c){var d,f,g;return regeneratorRuntime.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(g=_extends({},e.state,{formValues:_extends({},e.state.formValues,(d={},d[a]=b,d)),formTouched:_extends({},e.state.formTouched,(f={},f[a]=!0,f))}),c){h.next=5;break}return h.next=4,regeneratorRuntime.awrap(e.getFormErrors(g.formValues));case 4:g.formErrors=h.sent;case 5:e.setState(g);case 6:case"end":return h.stop();}})},this.setTouched=function(a,b){var c,d;return regeneratorRuntime.async(function(f){for(;;)switch(f.prev=f.next){case 0:if(d=_extends({},e.state,{formTouched:_extends({},e.state.formTouched,(c={},c[a]=!0,c))}),b){f.next=5;break}return f.next=4,regeneratorRuntime.awrap(e.getFormErrors(d.formValues));case 4:d.formErrors=f.sent;case 5:e.setState(d);case 6:case"end":return f.stop();}})},this.handleChange=function(a){if("production"!==process.env.NODE_ENV&&!a.target.name)throw new Error("Please specify `name` attribute to the input!");e.setValue(a.target.name,a.target.value)},this.handleBlur=function(a){if("production"!==process.env.NODE_ENV){if("blur"!==a.type)throw new Error("handleBlur should only be called with onBlur event!");if(!a.target.name)throw new Error("Please specify `name` attribute to the input!")}e.setTouched(a.target.name)},this.render=function(){return _react["default"].createElement(c,_extends({},e.props,e.state,{handleChange:e.handleChange,handleBlur:e.handleBlur,validateForm:e.validateForm,setValue:e.setValue,setValuesAndErrors:e.setValuesAndErrors,setTouched:e.setTouched}))},this}return d.prototype=_react["default"].Component.prototype,d.prototype.constructor=d,(0,_redefineStaticsJs["default"])(d,c),d};exports["default"]=_default;